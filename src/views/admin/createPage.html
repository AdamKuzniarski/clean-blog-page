<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Bereich â€“ Create</title>

    <!-- Quill CDN -->
    <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet" />
    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>

    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 2rem;
        background-color: #f8f9fa;
      }
      form {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        max-width: 600px;
      }
      label {
        display: block;
        margin-top: 1rem;
        font-weight: bold;
      }
      input[type="text"],
      input[type="url"],
      textarea,
      input[type="number"] {
        width: 100%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-top: 0.25rem;
      }
      textarea {
        min-height: 120px;
      }
      #teaserEditor, #contentEditor {
        height: 200px;
        background: #fff;
        margin-top: 0.25rem;
      }
      button {
        margin-top: 1.5rem;
        padding: 0.7rem 1.2rem;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>Blogeintrag erstellen</h1>

<form id="createForm" action="/admin/create/" method="POST" enctype="multipart/form-data">
  <!-- ID hidden -->
  <input type="hidden" name="id" value="{{ newId }}" />

  <label for="title">Titel</label>
  <input type="text" id="title" name="title" required />

  <label for="author">Autor</label>
  <input type="text" id="author" name="author" required />

  <label for="imageFile">Bild hochladen</label>
  <input type="file" id="imageFile" name="imageFile" accept="image/*" required />

      <!-- TEASER -->
      <label for="teaserEditor">Teaser</label>
      <div id="teaserEditor"></div>
      <input type="hidden" name="teaser" id="hiddenTeaser" />

      <!-- CONTENT -->
      <label for="contentEditor">Inhalt</label>
      <div id="contentEditor"></div>
      <input type="hidden" name="content" id="hiddenContent" />

      <button type="submit">Blogeintrag erstellen</button>
    </form>

    <script>
      // ðŸŸ¢ Quill Editor fÃ¼r Teaser
      const quillTeaser = new Quill('#teaserEditor', {
        theme: 'snow',
        placeholder: 'Hier den Teaser schreiben...',
        modules: {
          toolbar: [
            [{ header: [1, 2, 3, false] }],
            ['bold', 'italic', 'underline'],
            ['link', 'blockquote', 'code-block'],
            [{ list: 'ordered' }, { list: 'bullet' }],
            ['clean']
          ]
        }
      });

      // ðŸŸ¢ Quill Editor fÃ¼r Content
      const quillContent = new Quill('#contentEditor', {
        theme: 'snow',
        placeholder: 'Hier den Blog-Text schreiben...',
        modules: {
          toolbar: [
            [{ header: [1, 2, 3, false] }],
            ['bold', 'italic', 'underline'],
            ['link', 'blockquote', 'code-block'],
            [{ list: 'ordered' }, { list: 'bullet' }],
            ['clean']
          ]
        }
      });

      // ðŸŸ¢ Beim Abschicken die HTML-Daten in die versteckten Inputs kopieren
      document.getElementById('createForm').addEventListener('submit', () => {
        document.getElementById('hiddenTeaser').value = quillTeaser.root.innerHTML;
        document.getElementById('hiddenContent').value = quillContent.root.innerHTML;
      });
    </script>
  </body>
</html>
